let URL="https://api.travelcircus.net/hotels/17080/",CHECKINS_URL=URL+`checkins?E&party=%7B%22adults%22:2,%22childre
n%22:%5B%5D%7D&domain=de&date_start=2025-01-01&date_end=2025-06-31`;function quoteeUrl(e,t){return URL+`quotes?locale=de_DE&checkin=${e}
&checkout=${t}&party=%7B"adults":2,"children":[]%7D&domain=de`}async function fetchDates(e,t){var a=t.innerText;t.innerText="loading...";try{var n=await fetch(e);if(n.ok)return await n.json();throw new Error("HTTP error! status: "+n.status)}catch(e){console.log("Error: "+e)}finally{t.innerText=a}}function precessDates(e){var t,a=[];let s={},n=0;for(t of e._embedded.hotel_availabilities)a[n]=t.date,s[t.date]=t,n++;e=800<window.innerWidth?2:1;flatpickr("#calendar",{dateFormat:"Y-m-d",closeOnSelect:!1,mode:"range",showMonths:e,enable:a,onDayCreate:function(e,t,a,n){var r,o=new Intl.DateTimeFormat("en-CA").format(n.dateObj);s[o]&&(r=n.innerHTML,n.innerHTML=`
        <span class='day-number'>${r}</span>
          <span class='day-price'>${s[o].price}</span>
          `)},onOpen:(e,t,a)=>{var n=a.calendarContainer,r=document.createElement("div"),r=(r.id="calendar-wrapper",n.parentNode.insertBefore(r,n),r.appendChild(n),document.createElement("button"));r.textContent="Apply",r.className="apply-button btn",n.appendChild(r),r.addEventListener("click",()=>{a.close();var e=a.input.value;displayRooms(e.split(" to ")[0],e.split(" to ")[1])})},onClose:function(e,t,a){document.getElementById("calendar-wrapper").remove()}}).open()}async function createCalendar(e,t){precessDates(await fetchDates(e,t))}async function fetchRooms(e,a){e=quoteeUrl(e,a);let t=document.getElementById("section--rooms");t.innerHTML=roomCard();var a=document.getElementById("section--message"),n=document.querySelectorAll(".room-card");try{a.innerHTML="";var r=await fetch(e);if(r.ok)return(await r.json())._embedded.hotel_quotes;throw new Error("HTTP error! status: "+r.status)}catch(e){let t=document.getElementById("section--rooms");t.innerHTML=null,a.innerHTML=`<div class="error-message">
    There are no rooms available for the selected period. Please try another dates.</div>`,console.log("Error: "+e)}finally{n.forEach(e=>{e.classList.remove("suspense-block")})}}async function displayRooms(e,t){e=await fetchRooms(e,t);let a=document.getElementById("section--rooms");a.innerHTML=null,e&&e.map((e,t)=>{e=roomCard(e,t);a.innerHTML+=e})}function roomCard(e,t=0){let a="suspense-block",n="suspense-line",r="",o="",s="",c="",i="";return e&&(a="",n="",r=e.description,c=e.full_formatted_price,i=e.fullPriceBreakdown.nights,o=`<img src="${e._embedded.pictures[0].offer_teaser_ncol}"
     alt="${e._embedded.pictures[0].description}" loading="lazy" />`,e._embedded.amenities)&&(s=e._embedded.amenities.reduce((e,t)=>e+`<div>${t.description}</div>`,"")),`
    <article id="section--rooms--${t}" class="room-card ${a}">
                <div class="room-card--left">
                    ${o}
                </div>
                <div class="room-card--right">
                    <div class="room-card--body">
                        <h2 class="room-card--header">${r}</h2>
                        <div class="room-card--body--amenities ${n}">
                        ${s}
                        </div>
                    </div>
                    <div class="room-card--body--price">
                        <span class="room-card--body--price--number ${n}">
                          ${c}
                        </span>
                        <span class="room-card--body--price--nights ${n}">
                          for ${i} nights
                        </span>
                        <span class="room-card--body--price--book ${n}">
                          <button class="btn">Book</button>
                        </span>
                    </div>
                </div>
            </article>`}let btn=document.getElementById("check-availabilities--btn");btn.onclick=e=>createCalendar(CHECKINS_URL,e.target);
//# sourceMappingURL=all.min.js.map
